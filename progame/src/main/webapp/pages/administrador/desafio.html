<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Painel administrativo</title>


    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css" rel="stylesheet">
    <!-- <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">  -->

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

    <link href="../../resources/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../../resources/css/light-bootstrap-dashboard.css?v=2.0.0" rel="stylesheet" />

    <link href="../../resources/css/demo.css" rel="stylesheet" />
</head>
<body>
<div id="desafio" >
        <div class="modal fade top" id="modalDesafio" tabindex="-1" role="dialog" aria-labelledby="modalLinguagem" aria-hidden="true" data-backdrop='false'>
                <div class="modal-dialog modal-lg modal-frame modal-top" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h3 class="modal-title" id="modalLinguagem">Cadastro de Desafio</h>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div >
                    <div class="modal-body">
                        <table>
                            <tr>
                              <td>Desafio:</td>
                              <td><textarea type="text" v-model="desafio" name="nome" size="60"></textarea><br/><br/></td>
                            </tr>
                            <tr>
                              <td>Local:</td>
                              <td><input type="text" v-model="local" name="nome" size="60"> <br/><br/></td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                      <button type="button" class="btn btn-primary" data-dismiss="modal" @click="cadastra()">Salvar</button>
                    </div>
                </div>
                  </div>
                </div>
            </div> 
        <div  class="wrapper">
                <div id="menu"></div>
                <div class="main-panel">
                <div class="container" id="posicao">
                    <div class="tabela">
                            <button id="modalDesafio" type="button" class="btn btn-danger" data-toggle="modal" data-target="#modalDesafio">
                                    Novo Desafio    
                                </button>
                        <!-- <h2 style="text-align: center;">Desafio</h2>
                        <div >
                                <b-table :fields="headers" :items="material"
                                hover responsive> 
              
                              </b-table>
                              </div> -->
                       </div>
                 
                  </div>
                  </div>
                  </div>
                  </div>

                  <script src="../../resources/js/vue.js"></script>
                  <script src="../../resources/js/axios.min.js"></script>
                  <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
                  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
                  <script src="../../resources/js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
                  <script src="../../resources/js/core/popper.min.js" type="text/javascript"></script>
                  <script src="../../resources/js/core/bootstrap.min.js" type="text/javascript"></script>
                  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
                  <script src="../../resources/js/plugins/bootstrap-switch.js"></script>
                  <!--  Chartist Plugin  -->
                  <script src="../../resources/js/plugins/chartist.min.js"></script>
                  <!--  Notifications Plugin    -->
                  <script src="../../resources/js/plugins/bootstrap-notify.js"></script>
                  <!-- Control Center for Light Bootstrap Dashboard: scripts for the example pages etc -->
                  <script src="../../resources/js/light-bootstrap-dashboard.js?v=2.0.0 " type="text/javascript"></script>
                  <!-- Light Bootstrap Dashboard DEMO methods, don't include it in your project! -->
                  <script src="../../resources/js/demo.js"></script>
                  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"></script>
                  <script src="//unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
                  <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>
    <script>

new Vue({
  el:'#desafio',
  vuetify: new Vuetify(),
  data () {
    return {
      search: '',
      desafio: '',
      local:''
    }
  },
  created: function(){
    const vm = this;

  },
  methods : {
		cadastra : function() {
            const vm = this;
            let desafioObj = {
               desafio: vm.desafio,
               imgDesafio: vm.local
            }
			axios.post('../../rs/desafio/insereDesafio', desafioObj).then(function(response) {
                alert("Desafio cadastrado com sucesso!");
            });
		}
	}
});

     $(function(){
          $("#menu").load("../baseAdm.html"); // incluir conte√∫do do menu.html na div com id #includedContent
        });    
    </script>
</body>
</html>