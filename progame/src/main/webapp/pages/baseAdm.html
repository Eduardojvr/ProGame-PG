<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Painel administrador</title>

<link
	href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200"
	rel="stylesheet" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
<link href="../resources/css/bootstrap.min.css" rel="stylesheet" />
<link href="../resources/css/light-bootstrap-dashboard.css?v=2.0.0 "
	rel="stylesheet" />
<link href="../resources/css/demo.css" rel="stylesheet" />

</head>
<body>
	<div class="sidebar" data-image="../resources/img/hero-bg.jpg"
		data-color="orange">
		<!--
        	Cores barra laterak => data-color="purple | blue | green | orange | red"
    	-->
		<div class="sidebar-wrapper">
			<div class="logo">
				<a href="https://github.com/Eduardojvr/ProGame-PG"
					class="simple-text"> ProGame </a>
			</div>
			<ul class="nav">
				<li class="nav-item"><a class="nav-link" href="adm.html"> <i
						class="nc-icon nc-circle-09"></i>
						<p>Inicial</p>
				</a></li>
				<li class="nav-item"><a class="nav-link" href="linguagem.html">
						<i class="nc-icon nc-circle-09"></i>
						<p>Linguagem</p>
				</a></li>
				<li><a class="nav-link" href="material.html"> <i
						class="nc-icon nc-chart-bar-32"></i>
						<p>Material</p>
				</a></li>
				<li><a class="nav-link" href="desafio.html"> <i
						class="nc-icon nc-chat-round"></i>
						<p>Desafio</p>
				</a></li>
				<li class="nav-item"><a class="nav-link" href="questao.html">
						<i class="nc-icon nc-circle-09"></i>
						<p>Quest√µes</p>
				</a></li>

			</ul>
			<div id="login">
				<input type="image" src="../../resources/img/icons/sair.png"
					style="width: 30px; height: 40px;" @click="logout()">
			</div>
		</div>
	</div>

	<script src="../resources/js/axios.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
	<script src="../resources/js/core/popper.min.js" type="text/javascript"></script>
	<script src="../resources/js/core/bootstrap.min.js"
		type="text/javascript"></script>
	<script src="../resources/js/plugins/bootstrap-switch.js"></script>
	<script src="../resources/js/plugins/chartist.min.js"></script>
	<script src="../resources/js/plugins/bootstrap-notify.js"></script>
	<script src="../resources/js/light-bootstrap-dashboard.js?v=2.0.0 "
		type="text/javascript"></script>
	<script src="../resources/js/demo.js"></script>

	<script>
        new Vue({
			el:'#login',
			created: function(){
				const vm = this;
				axios.get('../../rs/user/getUser').then(function(response){
					if(response.data["idTipoPerfil"] != '2'){
						vm.logout();
					}
				});
			},
            methods:{
                logout: function(){
					axios.post('../../rs/user/logout').then(function(response) {
						sessionStorage.clear();
						window.location.href = "/progame";
					}).catch(function (error){
						alert("Erro ao realizar logout!");
					});
        		}
            }
        });

        </script>

</body>
</html>